[gcode_macro M600]
gcode:
  {% set x = params.X|default(20)|float %}
  {% set y = params.Y|default(290)|float %}
  {% set z = params.Z|default(20)|float %}
  {% set e = params.E|default(400)|float %}
  {% if printer.pause_resume.is_paused %}
    {action_respond_info("Already paused")}
  {% elif printer.toolhead.homed_axes != "xyz" %}
    {action_respond_info("Please home XYZ first")}
  {% else %}
    PAUSE_PARK X={x} Y={y} Z={z}
    M702 U{e}
  {% endif %}
